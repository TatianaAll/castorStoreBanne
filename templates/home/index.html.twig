{% extends 'base.html.twig' %}
{% block title %} Accueil {% endblock %}

{% block body %}
	<div
		class="wf-container">
		<!-- Titre -->
		<div class="row wf-section">
			<div class="col-12 col-md-8 offset-md-2">
				<div class="wf-title-bar text-center">
					<h1 class="h3 m-0">{{ title }}</h1>
				</div>
			</div>
		</div>

		<!-- Qui sommes nous -->
		<section id="about" class="row wf-section">
			<div class="col-12 col-md-10 offset-md-1">
				<div class="wf-panel text-center">
					<h2 class="h5 wf-heading mb-3">Qui sommes nous</h2>
					<p class="mb-0">{{ quiSommesNous }}</p>
				</div>
			</div>
		</section>

		<!-- Produits -->
		<section id="products" class="row wf-section">
			<div class="col-12 col-md-6 offset-md-3">
				<div class="wf-title-bar text-center">
					<h2 class="h6 m-0">Nos produits</h2>
				</div>
			</div>

			<div class="col-12 mt-4">
				<div class="wf-products-wrap">
					<div class="row row-cols-1 row-cols-sm-2 row-cols-lg-3 g-4">
						{% for product in products %}
							<div class="col">
								<div class="card h-100 shadow-sm border-0" style="background-color: #472d30; color: white">
									<a href="{{ path('product_show', { id: product.id }) }}" class="d-block">
										<img src="{{ asset(product.image) }}" alt="{{ product.name }}" class="wf-img-400" width="400" height="400" loading="lazy"/>
									</a>
									<div class="card-body d-flex flex-column">
										<h3 class="h6 mb-2">{{ product.name }}</h3>
										<div class="mt-auto fw-semibold text-price">
											{{ product.price|number_format(2, '.', ',') }}
											â‚¬
										</div>
									</div>
								</div>
							</div>
						{% endfor %}
					</div>
				</div>
				{# -- Changement : rendu de la pagination KNP #}
				<div class="wf-pagination mt-3">
					{{ knp_pagination_render(products,"@KnpPaginator/Pagination/bootstrap_v5_pagination.html.twig")}}
				</div>
			</div>
		</section>
	</div>
	
{{ ux_map(map, { style: 'height: 600px; margin-bottom: 3rem;' }) }}

{% endblock %}
{% block footer %}
	{{ parent() }}
{% endblock %}
